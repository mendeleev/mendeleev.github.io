define("sorting",["jquery"],function(){function n(n,e){return"string"==typeof n&&"string"==typeof e?e.localeCompare(n):"number"==typeof n&&"number"==typeof e?n-e:void 0}function e(n,e){return"string"==typeof n&&"string"==typeof e?n.localeCompare(e):"number"==typeof n&&"number"==typeof e?e-n:void 0}function t(n,e,t){var r=parseInt($(n).children(".counter").html()),a=parseInt($(e).children(".counter").html());return t(r,a)}function r(n,e,t){var r=$(n).children(".nick").html(),a=$(e).children(".nick").html();return t(a,r)}function a(n,e,t){var r=parseInt($(n).children(".counter").attr("id")),a=parseInt($(e).children(".counter").attr("id"));return t(r,a)}function o(o,i){var c;switch(o){case"id":c=a;break;case"counter":c=t;break;case"nick":c=r;break;default:c=a}var l;switch(i){case"ACS":l=n;break;case"DESC":l=e;break;default:l=n}return function(n,e){return c(n,e,l)}}console.log("sorting");var i=$(".gallery");$("#sort").on("change",function(){var n=o($(this).val(),$(this).siblings(":checked").val()),e=$(".item");e.sort(n),i.append(e)}),$('[name="order"]').on("change",function(){var n=o($(this).siblings("#sort").val(),$(this).val()),e=$(".item");e.sort(n),i.append(e)})}),define("dataloading",["jquery"],function(){function n(){return $.ajax({url:"data/data.json",dataType:"json"})}console.log("dataloading");var e=$(".gallery");n().done(function(n){var t={};if(localStorage.minionsCounter&&(t=JSON.parse(localStorage.getItem("minionsCounter"))),n.forEach(function(n){t[n.nick]||(t[n.nick]={}),t[n.nick].counter||(t[n.nick].counter=n.counter);var r=$("<span></span>").addClass("nick").html(n.nick),a=$("<img />").attr("src","images/"+n.img),o=$("<span></span>").addClass("counter").attr("id",n.id).html(t[n.nick].counter),i=$("<li></li>").attr("id",n.id).addClass("item").append(r).append(a).append(o).appendTo(e);i.click({el:o,nick:n.nick},function(n){var e={};localStorage.minionsCounter&&(e=JSON.parse(localStorage.minionsCounter)),e[n.data.nick]?e[n.data.nick].counter++:(e[n.data.nick]={},e[n.data.nick].counter=0),n.data.el.html(e[n.data.nick].counter),localStorage.minionsCounter=JSON.stringify(e)})}),!localStorage.minionsCounter){JSON.stringify(t);localStorage.minionsCounter=JSON.stringify(t)}}).fail(function(n){$("<span></span>").addClass("error").html("Shit happens :-(").appendTo(e),$("<img />").addClass("error-img").attr("src","images/Minion-Error-icon.png").appendTo(e),console.log(n.statusText)})}),define("searching",["jquery"],function(){console.log("searching");var n=$(".gallery");$("#search").on("keyup",function(e){var t=new RegExp(e.target.value,"i");n.find("li").hide().filter(function(n,e){return t.test($(e).text())}).show()})}),define("counterclear",["jquery"],function(){console.log("counterclear");var n=$(".gallery");$(".clearCounters").click(function(){localStorage.removeItem("minionsCounter"),n.find(".counter").html("0")})}),define("modules/main",["sorting","dataloading","searching","counterclear"],function(){console.log("main")});